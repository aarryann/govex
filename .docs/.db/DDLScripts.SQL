USE hectre;

SET FOREIGN_KEY_CHECKS = 0;

CREATE TABLE `api_logs` (
  `ID` varchar(36) NOT NULL,
  `USER_ID` varchar(36) NOT NULL,
  `LOG_DATE` datetime NOT NULL,
  `LOG_TITLE` varchar(255) NOT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `app_versions` (
  `AVR_ID` varchar(36) NOT NULL,
  `AVR_DISPLAY_TXT` varchar(100) NOT NULL,
  `AVR_STATUS` varchar(20) NOT NULL DEFAULT 'Active',
  `AVR_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `AVR_FILE_LOCATION` varchar(500) NOT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`AVR_ID`),
  UNIQUE KEY `AVR_DISPLAY_TXT` (`AVR_DISPLAY_TXT`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `cqr_question_responses` (
  `CQR_ID` varchar(36) NOT NULL,
  `CQR_RESPONSE_VALUE` varchar(2000) NOT NULL,
  `CQR_RESPONSE_TEXT` varchar(2000) NOT NULL,
  `CQR_DESCRIPTION` varchar(2000) DEFAULT NULL,
  `CQR_DISPLAY_ORDER` int(11) NOT NULL,
  `CQR_UOM_ID` varchar(36) DEFAULT NULL,
  `CQR_RESPONSE_WEIGHTAGE` int(11) DEFAULT NULL,
  `CQR_LAST_USER_ID` varchar(36) DEFAULT NULL,
  `CQR_LAST_CHANGED_DT` datetime DEFAULT NULL,
  `CQR_RESPONSE_CODE` varchar(45) NOT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`CQR_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `crf_library` (
  `CRF_ID` varchar(36) NOT NULL,
  `CRF_SHORT_CODE` varchar(45) NOT NULL,
  `CRF_LONG_NAME` varchar(100) DEFAULT NULL,
  `CRF_DESCRIPTION_TEXT` varchar(200) DEFAULT NULL,
  `CRF_PUBLISHED_DT` date DEFAULT NULL,
  `CRF_VERSION_NUMBER` varchar(10) DEFAULT NULL,
  `CRF_START_DT` date DEFAULT NULL,
  `CRF_END_DT` date DEFAULT NULL,
  `CRF_REQUIRED_REGISTRATION` varchar(3) DEFAULT NULL,
  `CRF_DISPLAY_TYPE` varchar(20) DEFAULT NULL,
  `CRF_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `CRF_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `CRF_STU_ID` varchar(36) DEFAULT NULL,
  `CRF_TNT_ID` varchar(36) DEFAULT NULL,
  `CRF_BTN_TEXT` varchar(100) NOT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`CRF_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `crf_questions` (
  `CRQ_ID` varchar(36) NOT NULL,
  `CRQ_CRS_ID` varchar(36) DEFAULT NULL,
  `CRQ_QUESTION_TEXT` varchar(2000) NOT NULL,
  `CRQ_QUESTION_TOOLTIP` varchar(2000) DEFAULT NULL,
  `CRQ_DISPLAY_TYPE` varchar(20) DEFAULT NULL COMMENT 'LIST / FREE TEXT/ DATE / CHECK BOX\\n',
  `CRQ_CQR_ID` varchar(36) DEFAULT NULL,
  `CRQ_QUESTION_CODE` varchar(45) DEFAULT NULL COMMENT 'Each question will have unique question code; This will help to map with other system integration whenever required.',
  `CRQ_DISPLAY_ORDER` int(11) DEFAULT NULL,
  `CRQ_IS_MANDATORY` varchar(3) DEFAULT NULL,
  `CRQ_MIN_VALUE` varchar(20) DEFAULT NULL,
  `CRQ_MAX_VALUE` varchar(45) DEFAULT NULL,
  `CRQ_MAX_LENGTH` int(11) DEFAULT NULL,
  `CRQ_CRQ_ID` varchar(36) DEFAULT NULL,
  `CRQ_DEPENDENCY_CONDITION` varchar(200) DEFAULT NULL,
  `CRQ_QUESTION_WEIGHTAGE` int(11) DEFAULT NULL,
  `CRQ_DISPLAY_DATATYPE` varchar(20) DEFAULT NULL COMMENT 'Available values will be number, text, date, datetime, file',
  `CRQ_UOM_ID` varchar(36) DEFAULT NULL,
  `CRQ_RESPONSE_STYLE` varchar(45) DEFAULT NULL COMMENT 'THIS WILL INDICATE WHETHER THE QUESTION AND RESPONSE WILL BE IN INLINE (WITHIN THE SAME ROW OR IT WILL BE IN DIFFERENT ROW OF TABLE)\\n',
  `CRQ_VALIDATION_MESSAGE` varchar(2000) DEFAULT NULL,
  `CRQ_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `CRQ_LAST_CHANGE_DT` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `CRQ_RELATED` json DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`CRQ_ID`),
  KEY `fk_crs_id_idx` (`CRQ_CRS_ID`),
  CONSTRAINT `fk_crs_id` FOREIGN KEY (`CRQ_CRS_ID`) REFERENCES `crf_sections` (`crs_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `crf_sections` (
  `CRS_ID` varchar(36) NOT NULL DEFAULT 'uuid()',
  `CRS_CRF_ID` varchar(36) DEFAULT NULL,
  `CRS_SECTION_TITLE` varchar(255) DEFAULT NULL,
  `CRS_SECTION_DESCRIPTION` varchar(2000) DEFAULT NULL,
  `CRS_HEADER_TEXT` varchar(2000) DEFAULT NULL,
  `CRS_FOOTER_TEXT` varchar(2000) DEFAULT NULL,
  `CRS_DISPLAY_ORDER` int(11) DEFAULT NULL COMMENT 'Displaying an order of the section while rendering the form',
  `CRS_IS_MANDATORY` bit(1) DEFAULT NULL,
  `CRS_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `CRS_LAST_CHANGED_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`CRS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `data_capture_steps` (
  `DCS_ID` varchar(36) NOT NULL,
  `DCS_STEP_CD` varchar(20) NOT NULL,
  `DCS_DISPLAY_NAME` varchar(50) NOT NULL,
  `DCS_DESC` varchar(500) NOT NULL,
  `DCS_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `DCS_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `DCS_DISPLAY_ORDER` int(11) DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`DCS_ID`),
  UNIQUE KEY `DCS_STEP_CD` (`DCS_STEP_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `document_library` (
  `DOC_ID` varchar(36) NOT NULL,
  `DOC_STU_ID` varchar(36) NOT NULL,
  `DOC_SIT_ID` varchar(45) NOT NULL,
  `DOC_FIELDNAME` varchar(50) NOT NULL,
  `DOC_ORIGINALNAME` varchar(100) DEFAULT NULL,
  `DOC_FILENAME` varchar(100) NOT NULL,
  `DOC_UPLOAD_DATE` date DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`DOC_ID`),
  KEY `DOC_STU_ID_idx` (`DOC_STU_ID`),
  KEY `DOC_SIT_ID_idx` (`DOC_SIT_ID`),
  CONSTRAINT `DOC_SIT_ID` FOREIGN KEY (`DOC_SIT_ID`) REFERENCES `sites` (`sit_id`),
  CONSTRAINT `DOC_STU_ID` FOREIGN KEY (`DOC_STU_ID`) REFERENCES `studies` (`stu_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `encounter_data_details` (
  `EDD_ID` varchar(36) NOT NULL,
  `EDD_STEP_CD` varchar(20) NOT NULL,
  `EDD_ISSUES_CNT` int(11) NOT NULL,
  `EDD_STEP_STATUS` varchar(20) NOT NULL,
  `EDD_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `EDD_EDS_PEN_ID` varchar(36) DEFAULT NULL,
  `EDD_ISSUE_DESC` varchar(50) DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`EDD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `encounter_data_summary` (
  `EDS_PEN_ID` varchar(36) NOT NULL,
  `EDS_ISSUES_CNT` int(11) NOT NULL,
  `EDS_STATUS` varchar(20) NOT NULL,
  `EDS_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`EDS_PEN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `encounter_lab_result` (
  `ELR_ID` varchar(36) NOT NULL,
  `ELR_PEN_ID` varchar(36) DEFAULT NULL,
  `ELR_LBT_CODE` varchar(45) DEFAULT NULL COMMENT 'This will be in reference of Lab Tests table with Lab Code',
  `ELR_RESULT_VALUE` varchar(2000) DEFAULT NULL COMMENT 'This field will capture the response of the lab test result',
  `ELR_RESULT_DT` datetime DEFAULT NULL COMMENT 'this will be the date and time of the result performed. ',
  `ELR_UOM` varchar(36) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Unit of measurement for the lab test',
  `ELR_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `ELR_LAST_CHANGED_DT` datetime DEFAULT NULL,
  `ELR_LBT_TEST_DATE` datetime DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  `encounter_group_id` varchar(36) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `encounter_lab_tests` (
  `ELT_ID` varchar(36) NOT NULL,
  `ELT_SEV_ID` varchar(36) DEFAULT NULL,
  `ELT_LBT_ID` varchar(36) DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`ELT_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `encounter_med_orders` (
  `EMO_ID` varchar(36) NOT NULL,
  `EMO_PEN_ID` varchar(36) DEFAULT NULL,
  `EMO_MED_CD` varchar(20) NOT NULL,
  `EMO_ORD_DT` date NOT NULL,
  `EMO_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `EMO_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`EMO_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `encounter_referrals` (
  `ERE_ID` varchar(36) NOT NULL,
  `ERE_PEN_ID` varchar(36) DEFAULT NULL,
  `ERE_REF_CD` varchar(20) NOT NULL,
  `ERE_REF_DT` date NOT NULL,
  `ERE_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `ERE_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`ERE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `encounter_test_orders` (
  `ETO_ID` varchar(36) NOT NULL,
  `ETO_PEN_ID` varchar(36) DEFAULT NULL,
  `ETO_TEST_CD` varchar(20) NOT NULL,
  `ETO_ORD_PLACE_DT` date NOT NULL,
  `ETO_ORD_EFF_DT` date DEFAULT NULL,
  `ETO_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `ETO_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `lab_tests` (
  `LBT_ID` varchar(36) NOT NULL,
  `LBT_CODE` varchar(45) DEFAULT NULL COMMENT 'Each Lab Test Element will have unique code to identify and will be used while integrating with external system ',
  `LBT_NAME` varchar(45) DEFAULT NULL COMMENT 'Name of the Lab test',
  `LBT_DESC` varchar(45) DEFAULT NULL COMMENT 'Description of Lab Test to identify in detail',
  `LBT_TYPE` varchar(45) DEFAULT NULL,
  `LBT_GROUP_ID` varchar(36) DEFAULT NULL,
  `LBT_UOM_CODE` varchar(20) DEFAULT NULL COMMENT 'Available unit of measurement for the lab result value. ',
  `LBT_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `LBT_LAST_CHANGED_DT` datetime DEFAULT NULL,
  `LBT_NORMAL_RANGE` varchar(500) DEFAULT NULL COMMENT 'Each Lab Result will have normal range for values for reference. ',
  `record_status` char(1) DEFAULT NULL,
  `LBT_CONTROL_TYPE` varchar(5) DEFAULT NULL,
  `LBT_RESPONSE_CODE` int(11) DEFAULT NULL,
  `LBT_HAS_CRITICAL` tinyint(4) DEFAULT NULL,
  `LBT_RECORD_STATUS` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`LBT_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `login_history` (
  `ID` varchar(36) NOT NULL,
  `USER_ID` varchar(36) DEFAULT NULL,
  `DETAILS` varchar(255) NOT NULL,
  `STATUS` varchar(45) NOT NULL,
  `CREATED_AT` datetime NOT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `medications` (
  `MED_ID` varchar(36) NOT NULL,
  `MED_CD` varchar(20) NOT NULL,
  `MED_NAMES` varchar(200) NOT NULL,
  `MED_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `MED_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`MED_ID`),
  UNIQUE KEY `MED_CD` (`MED_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_crf_details` (
  `PCD_ID` varchar(36) NOT NULL,
  `PCD_PEN_ID` varchar(36) DEFAULT NULL,
  `PCD_CRF_ID` varchar(36) DEFAULT NULL,
  `PCD_CRF_ENTRY_DT` datetime DEFAULT NULL,
  `PCD_CRF_STATUS` varchar(45) DEFAULT NULL,
  `PCD_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PCD_LAST_CHANGE_DT` datetime DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PCD_ID`),
  KEY `fk_pcd_pen_id_idx` (`PCD_PEN_ID`),
  KEY `fk_pcd_crf_id_idx` (`PCD_CRF_ID`),
  CONSTRAINT `fk_pcd_crf_id` FOREIGN KEY (`PCD_CRF_ID`) REFERENCES `crf_library` (`crf_id`),
  CONSTRAINT `fk_pcd_pen_id` FOREIGN KEY (`PCD_PEN_ID`) REFERENCES `participant_encounters` (`pen_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_crf_responses` (
  `PCR_ID` varchar(36) NOT NULL,
  `PCR_CRF_CODE` varchar(45) DEFAULT NULL,
  `PCR_QUE_ID` varchar(36) DEFAULT NULL,
  `PCR_RESPONSE_VALUE` varchar(2000) DEFAULT NULL,
  `PCR_UOM_ID` varchar(36) DEFAULT NULL,
  `PCR_PEN_ID` varchar(36) DEFAULT NULL,
  `PCR_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PCR_LAST_CHANGED_DT` datetime DEFAULT NULL,
  `PCR_PCD_ID` varchar(36) DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PCR_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_demographics` (
  `PDG_ID` varchar(36) NOT NULL,
  `PDG_SPT_ID` varchar(36) DEFAULT NULL,
  `PDG_GENDER_BIRTH` varchar(20) NOT NULL,
  `PDG_RACE` varchar(50) NOT NULL,
  `PDG_ETHNICITY` varchar(20) NOT NULL,
  `PDG_COH_STATUS` varchar(20) NOT NULL,
  `PDG_COH_STATUS_DT` datetime NOT NULL,
  `PDG_COUNTRY_BIRTH` varchar(2) NOT NULL,
  `PDG_REGION` varchar(100) NOT NULL,
  `PDG_RES_STATE` varchar(100) NOT NULL,
  `PDG_PRIM_INS` varchar(100) NOT NULL,
  `PDG_SEC_INS` varchar(100) NOT NULL,
  `PDG_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PDG_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PDG_ID`),
  KEY `PDG_SPT_FK` (`PDG_SPT_ID`),
  CONSTRAINT `PDG_SPT_FK` FOREIGN KEY (`PDG_SPT_ID`) REFERENCES `study_site_participants` (`spt_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_discharge` (
  `PDC_ID` varchar(36) NOT NULL,
  `PDC_ECO_ID` varchar(36) NOT NULL,
  `PDC_EDC_PROVIDE` varchar(45) NOT NULL,
  `PDC_NOTE` varchar(200) NOT NULL,
  `PDC_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PDC_LAST_CHANGE_DT` date NOT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PDC_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_encounter_vitals` (
  `PEV_ID` varchar(36) NOT NULL,
  `PEV_PEN_ID` varchar(36) DEFAULT NULL,
  `PEV_VTL_CODE` varchar(45) DEFAULT NULL,
  `PEV_VTL_VALUE` varchar(2000) DEFAULT NULL,
  `PEV_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PEV_LAST_CHANGED_DT` datetime DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PEV_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_encounters` (
  `PEN_ID` varchar(36) NOT NULL,
  `PEN_SPT_ID` varchar(36) DEFAULT NULL,
  `PEN_ENC_SVE_ID` varchar(36) DEFAULT NULL,
  `PEN_EVENT_NAME` varchar(50) NOT NULL,
  `PEN_EVENT_UNSCH` varchar(20) DEFAULT NULL,
  `PEN_ENC_DT` date NOT NULL,
  `PEN_ENC_REASON` varchar(200) DEFAULT NULL,
  `PEN_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PEN_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PEN_ID`),
  KEY `PEN_SPT_FK` (`PEN_SPT_ID`),
  CONSTRAINT `PEN_SPT_FK` FOREIGN KEY (`PEN_SPT_ID`) REFERENCES `study_site_participants` (`spt_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_medication_history` (
  `PM_ID` varchar(36) NOT NULL,
  `PM_DOC_START_DT` date DEFAULT NULL,
  `PM_DOC_END_DT` date DEFAULT NULL,
  `PM_MED_CODE` varchar(45) DEFAULT NULL,
  `PM_DRUG_DESC` varchar(45) DEFAULT NULL,
  `PM_DOSE_QUNTITY` varchar(45) DEFAULT NULL,
  `PM_DOSE_FREQ` varchar(45) DEFAULT NULL,
  `PM_DOSE_STRENGTH` varchar(45) DEFAULT NULL,
  `PM_REASON_FOR_DISCONTI` varchar(45) DEFAULT NULL,
  `PM_DIAGNOSIS` varchar(45) DEFAULT NULL,
  `PM_PEN_ID` varchar(36) DEFAULT NULL,
  `PM_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PM_LAST_CHANGE_DT` varchar(45) DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PM_ID`),
  KEY `PM_PEN_ID_idx` (`PM_PEN_ID`),
  CONSTRAINT `PM_PEN_ID` FOREIGN KEY (`PM_PEN_ID`) REFERENCES `participant_encounters` (`pen_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participant_study_consents` (
  `PSC_ID` varchar(36) NOT NULL,
  `PSC_SPT_ID` varchar(36) DEFAULT NULL,
  `PSC_SCO_ID` varchar(36) DEFAULT NULL,
  `PSC_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PSC_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `PSC_CON_DT` varchar(40) DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PSC_ID`),
  KEY `PSC_SPT_FK` (`PSC_SPT_ID`),
  CONSTRAINT `PSC_SPT_FK` FOREIGN KEY (`PSC_SPT_ID`) REFERENCES `study_site_participants` (`spt_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `participants` (
  `PAT_ID` varchar(36) NOT NULL,
  `PAT_TNT_ID` varchar(36) DEFAULT NULL,
  `PAT_MRN` varchar(50) DEFAULT NULL,
  `PAT_PID` varchar(50) NOT NULL,
  `PAT_FNAME` varchar(200) NOT NULL,
  `PAT_MI` varchar(10) DEFAULT NULL,
  `PAT_LNAME` varchar(200) NOT NULL,
  `PAT_GENDER_CURR` varchar(50) NOT NULL,
  `PAT_DOB` date NOT NULL,
  `PAT_STATUS` varchar(20) NOT NULL DEFAULT 'Active',
  `PAT_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `PAT_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  `PAT_PID_TEMP` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`PAT_ID`),
  UNIQUE KEY `PAT_TNT_MRN_UK` (`PAT_TNT_ID`,`PAT_MRN`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `pid_counter_assignments` (
  `PCA_SRS_ID` varchar(36) NOT NULL,
  `PCA_PID_MIN` int(11) DEFAULT NULL,
  `PCA_PID_MAX` int(11) DEFAULT NULL,
  `PCA_PID_LAST` int(11) NOT NULL,
  `PCA_SPID_MIN` int(11) DEFAULT NULL,
  `PCA_SPID_MAX` int(11) DEFAULT NULL,
  `PCA_SPID_LAST` int(11) NOT NULL,
  `PCA_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`PCA_SRS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `question_library` (
  `QLY_ID` varchar(36) NOT NULL,
  `QLY_TNT_ID` varchar(36) DEFAULT NULL,
  `QLY_LIB_NAME` varchar(50) NOT NULL,
  `QLY_LIB_DESC` varchar(1000) NOT NULL,
  `QLY_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `QLY_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`QLY_ID`),
  UNIQUE KEY `QLY_TNT_LIB_NAME_UK` (`QLY_TNT_ID`,`QLY_LIB_NAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `referrals` (
  `REF_ID` varchar(36) NOT NULL,
  `REF_CD` varchar(20) NOT NULL,
  `REF_NAMES` varchar(200) NOT NULL,
  `REF_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `REF_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`REF_ID`),
  UNIQUE KEY `REF_CD` (`REF_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `reset_password` (
  `RSE_ID` varchar(36) NOT NULL,
  `RSE_USR_ID` varchar(36) DEFAULT NULL,
  `RSE_RESET_TOKEN` varchar(100) NOT NULL,
  `RSE_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`RSE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `screening` (
  `SCN_ID` varchar(36) NOT NULL,
  `SCN_TNT_ID` varchar(36) DEFAULT NULL,
  `SCN_MRN` varchar(50) DEFAULT NULL,
  `SCN_FNAME` varchar(200) NOT NULL,
  `SCN_MI` varchar(10) DEFAULT NULL,
  `SCN_LNAME` varchar(200) NOT NULL,
  `SCN_GENDER_CURR` varchar(50) NOT NULL,
  `SCN_DOB` date NOT NULL,
  `SCN_SCREEN_DT` date NOT NULL,
  `SCN_SCREEN_STATUS` varchar(20) NOT NULL,
  `SCN_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SCN_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`SCN_ID`),
  KEY `SCN_LAST_USR_FK` (`SCN_LAST_USR_ID`),
  CONSTRAINT `SCN_LAST_USR_FK` FOREIGN KEY (`SCN_LAST_USR_ID`) REFERENCES `users` (`usr_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `site_registered_studies` (
  `SRS_ID` varchar(36) NOT NULL,
  `SRS_STU_ID` varchar(36) DEFAULT NULL,
  `SRS_SVE_ID` varchar(36) DEFAULT NULL,
  `SRS_SIT_ID` varchar(36) DEFAULT NULL,
  `SRS_REG_DATE` date NOT NULL,
  `SRS_REG_CURRENT` varchar(1) NOT NULL,
  `SRS_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SRS_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`SRS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `sites` (
  `SIT_ID` varchar(36) NOT NULL,
  `SIT_TNT_ID` varchar(36) DEFAULT NULL,
  `SIT_SITE_NAME` varchar(200) NOT NULL,
  `SIT_STATUS` varchar(20) NOT NULL DEFAULT 'Active',
  `SIT_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SIT_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`SIT_ID`),
  KEY `SIT_LAST_USR_FK` (`SIT_LAST_USR_ID`),
  CONSTRAINT `SIT_LAST_USR_FK` FOREIGN KEY (`SIT_LAST_USR_ID`) REFERENCES `users` (`usr_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `specimen_tracking` (
  `id` varchar(40) NOT NULL,
  `spe_site_id` varchar(36) NOT NULL,
  `specimen_date` datetime NOT NULL,
  `specimen_number` varchar(50) NOT NULL,
  `specimen_sent_to` varchar(100) DEFAULT NULL,
  `lab_result_date` datetime DEFAULT NULL,
  `specimen_type` varchar(50) NOT NULL,
  `participant` varchar(40) NOT NULL,
  `encounter` varchar(40) NOT NULL,
  `comments` text,
  `record_status` char(1) DEFAULT NULL,
  `ST_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `spe_site_id_idx` (`spe_site_id`),
  CONSTRAINT `spe_site_id_idx` FOREIGN KEY (`spe_site_id`) REFERENCES `sites` (`sit_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `studies` (
  `STU_ID` varchar(36) NOT NULL,
  `STU_TNT_ID` varchar(36) DEFAULT NULL,
  `STU_DISPLAY_TXT` varchar(200) NOT NULL,
  `STU_TITLE` varchar(200) NOT NULL,
  `STU_STATUS` varchar(20) NOT NULL DEFAULT 'Active',
  `STU_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `STU_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`STU_ID`),
  KEY `STU_LAST_USR_FK` (`STU_LAST_USR_ID`),
  CONSTRAINT `STU_LAST_USR_FK` FOREIGN KEY (`STU_LAST_USR_ID`) REFERENCES `users` (`usr_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `study_consents` (
  `SCO_ID` varchar(36) NOT NULL,
  `SCO_STU_ID` varchar(36) DEFAULT NULL,
  `SCO_VER_TXT` varchar(10) NOT NULL,
  `SCO_CONSENT_URL` varchar(500) NOT NULL,
  `SCO_STATUS` varchar(20) NOT NULL DEFAULT 'Active',
  `SCO_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SCO_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`SCO_ID`),
  KEY `SCO_LAST_USR_FK` (`SCO_LAST_USR_ID`),
  CONSTRAINT `SCO_LAST_USR_FK` FOREIGN KEY (`SCO_LAST_USR_ID`) REFERENCES `users` (`usr_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `study_event_steps` (
  `SVS_ID` varchar(36) NOT NULL,
  `SVS_STU_ID` varchar(36) DEFAULT NULL,
  `SVS_EVENT_NAME` varchar(50) NOT NULL,
  `SVS_GROUP_NAME` varchar(50) DEFAULT NULL,
  `SVS_STEP_CD` varchar(20) DEFAULT NULL,
  `SVS_GROUP_ID` varchar(36) DEFAULT NULL,
  `SVS_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SVS_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `SVS_DISPLAY_ORDER` int(11) DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`SVS_ID`),
  KEY `SVS_STEP_FK` (`SVS_STEP_CD`),
  KEY `SVS_LAST_USR_FK` (`SVS_LAST_USR_ID`),
  CONSTRAINT `SVS_LAST_USR_FK` FOREIGN KEY (`SVS_LAST_USR_ID`) REFERENCES `users` (`usr_id`),
  CONSTRAINT `SVS_STEP_FK` FOREIGN KEY (`SVS_STEP_CD`) REFERENCES `data_capture_steps` (`dcs_step_cd`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `study_events` (
  `SEV_ID` varchar(36) NOT NULL,
  `SEV_STU_ID` varchar(36) DEFAULT NULL,
  `SEV_EVENT_NAME` varchar(50) NOT NULL,
  `SEV_SHORT_CD` varchar(2) NOT NULL,
  `SEV_EVENT_ORDER` int(11) NOT NULL,
  `SEV_DURATION` int(11) NOT NULL,
  `SEV_UNIT_DURATION` varchar(20) NOT NULL,
  `SEV_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SEV_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`SEV_ID`),
  UNIQUE KEY `SEV_STU_SHORT_UK` (`SEV_STU_ID`,`SEV_SHORT_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `study_site_participants` (
  `SPT_ID` varchar(36) NOT NULL,
  `SPT_PAT_ID` varchar(36) DEFAULT NULL,
  `SPT_SCN_ID` varchar(36) DEFAULT NULL,
  `SPT_SIT_ID` varchar(36) DEFAULT NULL,
  `SPT_STU_ID` varchar(36) DEFAULT NULL,
  `SPT_SPID` varchar(20) DEFAULT NULL,
  `SPT_ENROLL_DT` date DEFAULT NULL,
  `SPT_ENROLL_STATUS` varchar(50) NOT NULL,
  `SPT_ENROLL_STATUS_DT` date NOT NULL,
  `SPT_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SPT_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  `CREATED_DT` datetime DEFAULT CURRENT_TIMESTAMP,
  `SPT_SPID_TEMP` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`SPT_ID`),
  KEY `SPT_SIT_FK` (`SPT_SIT_ID`),
  KEY `SPT_STU_FK` (`SPT_STU_ID`),
  KEY `SPT_LAST_USR_FK` (`SPT_LAST_USR_ID`),
  KEY `SPT_PAT_FK_idx` (`SPT_PAT_ID`),
  CONSTRAINT `SPT_LAST_USR_FK` FOREIGN KEY (`SPT_LAST_USR_ID`) REFERENCES `users` (`usr_id`),
  CONSTRAINT `SPT_PAT_FK` FOREIGN KEY (`SPT_PAT_ID`) REFERENCES `participants` (`pat_id`),
  CONSTRAINT `SPT_SIT_FK` FOREIGN KEY (`SPT_SIT_ID`) REFERENCES `sites` (`sit_id`),
  CONSTRAINT `SPT_STU_FK` FOREIGN KEY (`SPT_STU_ID`) REFERENCES `studies` (`stu_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `study_versions` (
  `SVE_ID` varchar(36) NOT NULL,
  `SVE_STU_ID` varchar(36) DEFAULT NULL,
  `SVE_VER_TXT` varchar(10) NOT NULL,
  `SVE_STATUS` varchar(20) NOT NULL DEFAULT 'Active',
  `SVE_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `SVE_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`SVE_ID`),
  KEY `SVE_LAST_USR_FK` (`SVE_LAST_USR_ID`),
  CONSTRAINT `SVE_LAST_USR_FK` FOREIGN KEY (`SVE_LAST_USR_ID`) REFERENCES `users` (`usr_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `sync_database` (
  `SYN_ID` varchar(36) NOT NULL,
  `DEVICEID` varchar(20) DEFAULT NULL,
  `LAST_UPDATED_DATE` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`SYN_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_addresses` (
  `TAD_ID` varchar(36) NOT NULL,
  `TAD_TNT_ID` varchar(36) DEFAULT NULL,
  `TAD_URL` varchar(500) NOT NULL,
  `TAD_TYPE` varchar(20) NOT NULL,
  `TAD_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TAD_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TAD_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_medications` (
  `TME_ID` varchar(36) NOT NULL,
  `TME_TNT_ID` varchar(36) DEFAULT NULL,
  `TME_MED_CD` varchar(20) NOT NULL,
  `TME_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TME_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TME_ID`),
  UNIQUE KEY `TME_MED_CD` (`TME_MED_CD`),
  CONSTRAINT `TME_MED_CD_FK` FOREIGN KEY (`TME_MED_CD`) REFERENCES `medications` (`med_cd`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_referrals` (
  `TRE_ID` varchar(36) NOT NULL,
  `TRE_TNT_ID` varchar(36) DEFAULT NULL,
  `TRE_REF_CD` varchar(20) NOT NULL,
  `TRE_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TRE_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TRE_ID`),
  UNIQUE KEY `TRE_REF_CD` (`TRE_REF_CD`),
  CONSTRAINT `TRE_REF_CD_FK` FOREIGN KEY (`TRE_REF_CD`) REFERENCES `referrals` (`ref_cd`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_sites` (
  `TSI_ID` varchar(36) NOT NULL,
  `TSI_TNT_ID` varchar(36) DEFAULT NULL,
  `TSI_SIT_ID` varchar(36) DEFAULT NULL,
  `TSI_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TSI_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TSI_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_steps` (
  `TSE_ID` varchar(36) NOT NULL,
  `TSE_TNT_ID` varchar(36) DEFAULT NULL,
  `TSE_STEP_CD` varchar(20) NOT NULL,
  `TSE_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TSE_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TSE_ID`),
  KEY `TSE_STEP_FK` (`TSE_STEP_CD`),
  CONSTRAINT `TSE_STEP_FK` FOREIGN KEY (`TSE_STEP_CD`) REFERENCES `data_capture_steps` (`dcs_step_cd`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_studies` (
  `TST_ID` varchar(36) NOT NULL,
  `TST_TNT_ID` varchar(36) DEFAULT NULL,
  `TST_STU_ID` varchar(36) DEFAULT NULL,
  `TST_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TST_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TST_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_tests` (
  `TTE_ID` varchar(36) NOT NULL,
  `TTE_TNT_ID` varchar(36) DEFAULT NULL,
  `TTE_TEST_CD` varchar(20) NOT NULL,
  `TTE_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TTE_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TTE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenant_users` (
  `TUS_ID` varchar(36) NOT NULL,
  `TUS_TNT_ID` varchar(36) DEFAULT NULL,
  `TUS_USR_ID` varchar(36) DEFAULT NULL,
  `TUS_LAST_LOGIN_DT` datetime DEFAULT NULL,
  `TUS_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TUS_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TUS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tenants` (
  `TNT_ID` varchar(36) NOT NULL,
  `TNT_DISPLAY_TXT` varchar(100) NOT NULL,
  `TNT_AVR_ID` varchar(36) DEFAULT NULL,
  `TNT_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TNT_ID`),
  UNIQUE KEY `TNT_DISPLAY_TXT` (`TNT_DISPLAY_TXT`),
  KEY `TNT_AVR_FK_idx` (`TNT_AVR_ID`),
  CONSTRAINT `TNT_AVR_FK` FOREIGN KEY (`TNT_AVR_ID`) REFERENCES `app_versions` (`avr_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tests` (
  `TES_ID` varchar(36) NOT NULL,
  `TES_TEST_CD` varchar(20) NOT NULL,
  `TES_TEST_NAMES` varchar(200) NOT NULL,
  `TES_STATUS` varchar(20) NOT NULL,
  `TES_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `TES_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`TES_ID`),
  UNIQUE KEY `TES_TEST_CD` (`TES_TEST_CD`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `unit_of_measurements` (
  `UOM_ID` varchar(36) NOT NULL,
  `UOM_UNIT` varchar(2000) DEFAULT NULL,
  `UOM_DESCRIPTION` varchar(2000) DEFAULT NULL,
  `UOM_BASE_UOM` int(11) DEFAULT NULL COMMENT 'Parent Uinit of Self Table',
  `UOM_CONVERSION_FACTOR` double DEFAULT NULL,
  `UOM_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `UOM_LAST_CHANGED_DT` datetime DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`UOM_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `users` (
  `USR_ID` varchar(36) NOT NULL,
  `USR_UNAME` varchar(20) NOT NULL,
  `USR_PASSWORD` varchar(50) NOT NULL,
  `USR_DISPLAY_TXT` varchar(100) NOT NULL,
  `USR_EMAIL` varchar(100) NOT NULL,
  `USR_TYPE` varchar(20) NOT NULL,
  `USR_STATUS` varchar(20) NOT NULL DEFAULT 'Active',
  `USR_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `USR_LAST_CHANGE_DT` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `USR_ATTEMPT` int(10) NOT NULL DEFAULT '0',
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`USR_ID`),
  UNIQUE KEY `USR_UNAME` (`USR_UNAME`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `vitals` (
  `VTL_ID` varchar(36) NOT NULL,
  `VTL_CODE` varchar(45) DEFAULT NULL,
  `VTL_DISPLAY_TEXT` varchar(250) DEFAULT NULL,
  `VTL_UOM_ID` varchar(36) DEFAULT NULL,
  `VTL_DISPLAY_ORDER` int(11) DEFAULT NULL,
  `VTL_LAST_USR_ID` varchar(36) DEFAULT NULL,
  `VTL_LAST_CHANGED_DT` datetime DEFAULT NULL,
  `record_status` char(1) DEFAULT NULL,
  PRIMARY KEY (`VTL_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

SET FOREIGN_KEY_CHECKS = 1;
